@model TFI.OCM.Iscritto.IscrittoRicTFROCM
@{
    ViewBag.Title = "Richiesta TFR";
    Layout = "~/Views/Shared/_LayoutContainer.cshtml";
    var visibilitàBottone =
         !String.IsNullOrEmpty(HttpContext.Current.Items["TipoDocumento"] as string) &&
         !String.IsNullOrEmpty(HttpContext.Current.Items["NumeroDocumento"] as string) &&
         !String.IsNullOrEmpty(HttpContext.Current.Items["ScadenzaDocumento"] as string);
    //visibilitàBottone = true;
}
@section showMessage{
    @{Html.RenderPartial("PartialViewShowMessages");}
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />



<style>

    .cancelBtn {
        background-color: #0c773c;
        color: white;
        border: 1px solid black;
    }

    .applyBtn {
        background-color: #0c773c;
        color: white;
        border: 1px solid black;
        padding: 5px 10px 5px 10px;
    }

    .daterangepicker td.active, .daterangepicker td.active:hover {
        background-color: #0c773c;
    }

    .table th {
        text-align: right;
        vertical-align: middle;
    }

    .table td {
        text-align: center;
        vertical-align: middle;
    }

    .table label:not(.form-check-label):not(.custom-file-label) {
        font-weight: 100;
    }

    .table tr {
        height: 60px;
    }

    .table label {
        vertical-align: middle;
    }

    .btn:hover {
        background-color: #0c773c;
    }
</style>

<div class="card">
    <div style="background-color:#0c773c;color:white;text-align:center;font-size:25px" class="card-header">Richiesta Pagamento TFR Iscritto</div>
    <div class="card-body">
        <!--
         <div class="row">
        <div class="col-sm-4">
            <table id="tblRDL" class="table table-bordered" style="font-size:20px">

                <tr>
                    <td style="font-weight: bold;">Matricola</td>
                    <td><label>@HttpContext.Current.Items["Matricola"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Cognome</td>
                    <td><label>@HttpContext.Current.Items["Cognome"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Nome</td>
                    <td><label>@HttpContext.Current.Items["Nome"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Codice Fiscale</td>
                    <td><label>@HttpContext.Current.Items["CodiceFis"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Sesso</td>
                    <td><label>@HttpContext.Current.Items["Sesso"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Indirizzo</td>
                    <td><label>@HttpContext.Current.Items["Indirizzo"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Comune</td>
                    <td><label>@HttpContext.Current.Items["ComuneResidenza"]</label></td>
                </tr>
            </table>
        </div>
        <div class="col-sm-4">
            <table id="tblRDL1" class="table table-bordered" style="font-size:20px">
                <tr>
                    <td style="font-weight: bold;">Data di nascita</td>
                    <td><label>@HttpContext.Current.Items["DataNascita"]</label></td>
                </tr>

                <tr>
                    <td style="font-weight: bold;">Comune di nascita</td>
                    <td><label>@HttpContext.Current.Items["ComuneNascita"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Provincia di nascita</td>
                    <td><label>@HttpContext.Current.Items["ProvinciaNascita"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Stato Est. Nascita</td>
                    <td><label>@HttpContext.Current.Items["StatoEsteroNascita"]</label></td>
                </tr>

                <tr>
                    <td style="font-weight: bold;">CAP</td>
                    <td><label>@HttpContext.Current.Items["Cap"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Provincia</td>
                    <td><label>@HttpContext.Current.Items["Provincia"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Stato Estero</td>
                    <td><label>@HttpContext.Current.Items["StatoEstero"]</label></td>
                </tr>
            </table>
        </div>
        <div class="col-sm-4">
            <table id="tblRDL2" class="table table-bordered" style="font-size:20px">
                <tr>
                    <td style="font-weight: bold;">Località</td>
                    <td><label>@HttpContext.Current.Items["Località"]</label></td>
                </tr>

                <tr>
                    <td style="font-weight: bold;">Telefono</td>
                    <td><label>@HttpContext.Current.Items["Telefono1"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Telefono2</td>
                    <td><label>@HttpContext.Current.Items["Telefono2"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Cellulare</td>
                    <td><label>@HttpContext.Current.Items["Cellulare"]</label></td>
                </tr>

                <tr>
                    <td style="font-weight: bold;">Fax</td>
                    <td><label>@HttpContext.Current.Items["Fax"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">Email</td>
                    <td><label>@HttpContext.Current.Items["Email"]</label></td>
                </tr>
                <tr>
                    <td style="font-weight: bold;">PEC</td>
                    <td><label>@HttpContext.Current.Items["EmailCert"]</label></td>
                </tr>
            </table>
        </div>
    </div>
    <br />
    -->

    <form id="form_TFR" method="post" enctype="multipart/form-data">
            <div class="row">
                <div class="col-10">
                    <div class="form-group">
                        <label>Accantonamento TFR Presso:</label>
                        <br />
                        <label style="font-size:15px"><i>Data inizio - Data fine | Posizione Azienda - Ragione Sociale</i></label>
                        <select class="form-control" name="ddlPosizione" asp-for="ddlPosizione" id="ddlPosizione" required>
                            @if (HttpContext.Current.Items["ListaRDL"].ToString() != "NESSUN RAPPORTO DI LAVORO DISPONIBILE")
                            {

                                foreach (var std in HttpContext.Current.Items["ListaRDL"] as List<string>)
                                {
                                    <option asp-for="RDL" id="RDL" value="@std.ToString()" name="RDL" selected>@std.ToString()</option>

                                }
                            }
                            else
                            {
                                <option asp-for="NoRDL" id="NoRDL" value="" name="NoRDL" selected>@HttpContext.Current.Items["ListaRDL"]</option>
                            }
                        </select>
                    </div>
                </div>
            </div>
            <center><p style="font-size:20px"><strong>Modalità di Pagamento TFR</strong></p></center>

            <div class="row" id="divAssegno">
                <div class="col-sm-5">
                    <div class="icheck-success d-inline">
                        <input type="radio" name="checkboxDefault" id="checkboxAssegno" required>
                        <label for="checkboxAssegno">
                            Assegno di Traenza (per importi fino a 3000 euro)
                        </label>
                    </div>
                </div>
            </div>
            <br />
            <div class="row" id="divBonifico">
                <div class="col-sm-5">
                    <div class="icheck-success d-inline">
                        <input type="radio" name="checkboxDefault" id="checkboxBonifico" required>
                        <label for="checkboxBonifico">
                            Bonifico Bancario
                        </label>
                    </div>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-sm-5">
                    <div class="form-group">
                        <label>IBAN</label>
                        <input type="text" id="txtIBAN" class="form-control" placeholder="Inserire IBAN" name="IBAN" asp-for="IBAN" value="@ViewBag.IBAN" pattern="^(AL|al)[0-9]{2}[0-9]{8}[a-zA-Z0-9]{16}$|^(AD|ad)[0-9]{2}[0-9]{8}[a-zA-Z0-9]{12}$|^(AT|at)[0-9]{2}[0-9]{16}$|^(AZ|az)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{20}$|^(BH|bh)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{14}$|^(BY|by)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{4}[a-zA-Z0-9]{16}$|^(BE|be)[0-9]{2}[0-9]{12}$|^(BA|ba)[0-9]{2}[0-9]{16}$|^(BR|br)[0-9]{2}[0-9]{23}[a-zA-Z][a-zA-Z0-9]$|^(BG|bg)[0-9]{2}[a-zA-Z]{4}[0-9]{6}[a-zA-Z0-9]{8}$|^(CR|cr)[0-9]{2}[0-9]{18}$|^(HR|hr)[0-9]{2}[0-9]{17}$|^(CY|cy)[0-9]{2}[0-9]{8}[a-zA-Z0-9]{16}$|^(CZ|cz)[0-9]{2}[0-9]{20}$|^(DK|dk)[0-9]{2}[0-9]{14}$|^(DO|do)[0-9]{2}[a-zA-Z]{4}[0-9]{20}$|^(TL|tl)[0-9]{2}[0-9]{19}$|^(EG|eg)[0-9]{2}[0-9]{25}$|^(SV|sv)[0-9]{2}[a-zA-Z]{4}[0-9]{20}$|^(EE|ee)[0-9]{2}[0-9]{16}$|^(FO|fo)[0-9]{2}[0-9]{14}$|^(FI|fi)[0-9]{2}[0-9]{14}$|^(FR|fr)[0-9]{2}[0-9]{10}[a-zA-Z0-9]{11}[0-9]{2}$|^(GE|ge)[0-9]{2}[a-zA-Z0-9]{2}[0-9]{16}$|^(DE|de)[0-9]{2}[0-9]{18}$|^(GI|gi)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{15}$|^(GR|gr)[0-9]{2}[0-9]{7}[a-zA-Z0-9]{16}$|^(GL|gl)[0-9]{2}[0-9]{14}$|^(GT|gt)[0-9]{2}[a-zA-Z0-9]{24}$|^(HU|hu)[0-9]{2}[0-9]{24}$|^(IS|is)[0-9]{2}[0-9]{22}$|^(IQ|iq)[0-9]{2}[a-zA-Z]{4}[0-9]{15}$|^(IE|ie)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{14}$|^(IL|il)[0-9]{2}[0-9]{19}$|^(IT|it)[0-9]{2}[a-zA-Z][0-9]{10}[a-zA-Z0-9]{12}$|^(JO|jo)[0-9]{2}[a-zA-Z]{4}[0-9]{22}$|^(KZ|kz)[0-9]{2}[0-9]{3}[a-zA-Z0-9]{13}$|^(XK|xk)[0-9]{2}[0-9]{16}$|^(KW|kw)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{22}$|^(LV|lv)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{13}$|^(LB|lb)[0-9]{2}[0-9]{4}[a-zA-Z0-9]{20}$|^(LY|ly)[0-9]{2}[0-9]{21}$|^(LI|li)[0-9]{2}[0-9]{5}[a-zA-Z0-9]{12}$|^(LT|lt)[0-9]{2}[0-9]{16}$|^(LU|lu)[0-9]{2}[0-9]{3}[a-zA-Z0-9]{13}$|^(MK|mk)[0-9]{2}[0-9]{3}[a-zA-Z0-9]{10}[0-9]{2}$|^(MT|mt)[0-9]{2}[a-zA-Z]{4}[0-9]{5}[a-zA-Z0-9]{18}$|^(MR|mr)[0-9]{2}[0-9]{23}$|^(MU|mu)[0-9]{2}[a-zA-Z]{4}[0-9]{19}[a-zA-Z]{3}$|^(MC|mc)[0-9]{2}[0-9]{10}[a-zA-Z0-9]{11}[0-9]{2}$|^(MD|md)[0-9]{2}[a-zA-Z0-9]{20}$|^(ME|me)[0-9]{2}[0-9]{18}$|^(NL|nl)[0-9]{2}[a-zA-Z]{4}[0-9]{10}$|^(NO|no)[0-9]{2}[0-9]{11}$|^(PK|pk)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{16}$|^(PS|ps)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{21}$|^(PL|pl)[0-9]{2}[0-9]{24}$|^(PT|pt)[0-9]{2}[0-9]{21}$|^(QA|qa)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{21}$|^(RO|ro)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{16}$|^(LC|lc)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{24}$|^(SM|sm)[0-9]{2}[a-zA-Z][0-9]{10}[a-zA-Z0-9]{12}$|^(ST|st)[0-9]{2}[0-9]{21}$|^(SA|sa)[0-9]{2}[0-9]{2}[a-zA-Z0-9]{18}$|^(RS|rs)[0-9]{2}[0-9]{18}$|^(SC|sc)[0-9]{2}[a-zA-Z]{4}[0-9]{20}[a-zA-Z]{3}$|^(SK|sk)[0-9]{2}[0-9]{20}$|^(SI|si)[0-9]{2}[0-9]{15}$|^(ES|es)[0-9]{2}[0-9]{20}$|^(SD|sd)[0-9]{2}[0-9]{14}$|^(SE|se)[0-9]{2}[0-9]{20}$|^(CH|ch)[0-9]{2}[0-9]{5}[a-zA-Z0-9]{12}$|^(TN|tn)[0-9]{2}[0-9]{20}$|^(TR|tr)[0-9]{2}[0-9]{5}[a-zA-Z0-9]{17}$|^(UA|ua)[0-9]{2}[0-9]{6}[a-zA-Z0-9]{19}$|^(AE|ae)[0-9]{2}[0-9]{19}$|^(GB|gb)[0-9]{2}[a-zA-Z]{4}[0-9]{14}$|^(VA|va)[0-9]{2}[0-9]{18}$|^(VG|vg)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{16}$" title="inserire un iban valido">
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="form-group">
                        <label>BIC/SWIFT</label>
                        <input type="text" id="txtBIC" class="form-control" placeholder="Inserire BIC/SWIFT" name="BICSWIFT" asp-for="BICSWIFT" value="@HttpContext.Current.Items["BicSwift"]">
                        <p>(Solo per bonifici esteri)</p>
                    </div>
                </div>
            </div>
            <br />

            <br />
            <p style="font-size:15px">Il dipendente dichiara: </p>

            <div class="form-group clearfix" id="divRadio">
                <div class="icheck-success d-inline">
                    <input type="radio" name="flexRadioDefault" id="flexRadioDefault1" asp-for="flexRadioDefault1" required>
                    <label style="font-size:15px" class="form-check-label" for="flexRadioDefault1">
                        di aver fruito
                    </label>
                </div>&emsp;
                <div class="icheck-success d-inline">
                    <input type="radio" name="flexRadioDefault" id="flexRadioDefault2" asp-for="flexRadioDefault2">
                    <label style="font-size:15px" class="form-check-label" for="flexRadioDefault2">
                        di non aver fruito
                    </label>
                </div>
            </div>
            <p style="font-size:15px">
                nel corso del corrente anno della detrazione di imposta prevista dal DM 20 Marzo 2008 a favore dei percettori di Trattamento di Fine Rapporto con data cessazione del rapporto di lavoro successiva al 30 Marzo 2008.
            </p>
            <select class="form-control" id="divCheck" name="checkFruizione" asp-for="divCheck" style="visibility:hidden; height:0; width:0"></select>
            <select class="form-control" id="divPagamento" name="tipoPagamento" asp-for="divPagamento" style="visibility: hidden;height: 0;width: 0"></select>
            <br />

            <div class="row">
                <div class="col-12">
                    <h4> Documento di riconoscimento</h4>
                </div>
            </div>
            <div class="row">
                <div class="col-4 form-group">
                    <label class="control-label">Tipo Documento</label>
                    <select class="form-control" id="tipoDocumento" name="tipoDocumento" placeholder="Inserire il tipo del documento" required>
                        <option value="" placeholder="Inserire il tipo di documento" selected>Inserire il tipo di documento</option>
                        @foreach (var doc in ViewBag.TipoDocumenti)
                        {
                            <option value="@doc">@doc</option>
                        }
                    </select>
                </div>
                <div class="col-4 form-group">
                    <label class="control-label">Numero Documento</label>
                    <input class="form-control documento" name="numeroDocumento" type="text" placeholder="Inserire il numero del documento" required value="@HttpContext.Current.Items["NumeroDocumento"]" />
                </div>
                <div class="col-4 form-group">
                    <label class="control-label">Data Scadenza Documento</label>
                    <input class="form-control documento" name="scadenzaDocumento" type="date" min="@DateTime.Now.ToString("yyyy-MM-dd")" required value="@HttpContext.Current.Items["ScadenzaDocumento"]" />
                </div>
            </div>
            @{
                bool isUploaded = ViewBag.IsDocumentUploaded;
            }
            @*<div class="row @(visibilitàBottone?"d-none":"")">*@
            <div class="row @(isUploaded?"d-none":"")">
                <div class="col-4 form-group">
                    <label class="control-label">Fronte Documento</label>
                    <input class="form-control-file documento-file" name="fronteDocumento" type="file" accept='.pdf, .jpeg, .jpg, .png' required />
                </div>
                <div class="col-4 form-group">
                    <label class="control-label">Retro Documento</label>
                    <input class="form-control-file documento-file" name="retroDocumento" type="file" accept='.pdf, .jpeg, .jpg, .png' required />
                </div>
                @*<div class="col-4 form-group">
                <input type="submit" class="btn btn-block btn-outline-success btn-lg" value="Carica Documento" />
            </div>*@
            </div>
            @*@if (ViewBag.Visibility == true)
        {
            if ((HttpContext.Current.Items["ErrorMessage"]) != null || HttpContext.Current.Items["SuccessMessage"] != null)
            {*@
            <input type="hidden" value="@visibilitàBottone.ToString()" id="hidden_controlloDocumenti" />
            @{
                string abilita = Model.AbilitaBtn ? "" : "disabled";
            }
            <div class="row justify-content-end">
                <div class="col-sm-2 justify-content-end">
                    <button type="submit" id="btnInviaRichiesta" @abilita class="btn btn-block btn-outline-success btn-lg">Invia richiesta</button>
                </div>
            </div>
            @*}
        }
        else
        {
            <div class="row justify-content-end">
                <div class="col-sm-2 justify-content-end">
                    <button type="submit" id="btnInviaRichiesta" onclick="InviaRichiesta()" class="btn btn-block btn-outline-success btn-lg @(visibilitàBottone?"":"d-none")">Invia richiesta</button>
                </div>
            </div>
        }*@
        </form>


    </div>
</div>

@section JS{


    <script>
        $(document).ready(function() {

            $('#txtIBAN').on("blur",
                () => {
                    var validityIban = CheckIban();
                    if (!validityIban) {
                        document.getElementById("txtIBAN").setCustomValidity("Iban non valido");
                    } else
                        document.getElementById("txtIBAN").setCustomValidity("");
                });

            $('[id$=divRadio]').change(function() {
                var node = document.getElementById('divCheck');
                if (document.getElementById("flexRadioDefault1").checked == true) {
                    node.innerHTML = '<option id="check" name="CheckFruizione" asp-for="check" value="S"></option>';
                } else if (document.getElementById("flexRadioDefault2").checked == true) {
                    node.innerHTML = '<option id="check" name="CheckFruizione" asp-for="check" value="N"></option>';
                }
            });

            var node2 = document.getElementById('divPagamento');

            $('[id$=divBonifico]').change(function() {
                if (document.getElementById("checkboxBonifico").checked == true) {
                    node2.innerHTML = '<option id="radioPagamento" name="radioPagamento" asp-for="radioPagamento" value="1"></option>';
                    document.getElementById("txtIBAN").disabled = false;
                    document.getElementById("txtIBAN").setAttribute("required", true);
                    document.getElementById("txtBIC").disabled = false;
                } else {
                    document.getElementById("txtBIC").removeAttribute("required");
                    document.getElementById("txtIBAN").removeAttribute("required");
                }
            });

            $('#txtIBAN').change(function() {
                if ((this.value[0] + this.value[1]) != "IT") {
                    document.getElementById("txtBIC").setAttribute("required", true);
                } else {
                    document.getElementById("txtBIC").removeAttribute("required");
                }
            });

            $(document).ready(function() {
                if (($('#txtIBAN')[0].defaultValue[0] + $('#txtIBAN')[0].defaultValue[1]) != "IT") {
                    document.getElementById("txtBIC").setAttribute("required", true);
                } else {
                    document.getElementById("txtBIC").removeAttribute("required");
                }
            });

            $('[id$=divAssegno]').change(function() {
                if (document.getElementById("checkboxAssegno").checked == true) {
                    node2.innerHTML = '<option id="radioPagamento" name="radioPagamento" asp-for="radioPagamento" value="2" selected></option>';
                    document.getElementById("txtIBAN").disabled = true;
                    document.getElementById("txtBIC").disabled = true;
                }

            });

        });

        //function InviaRichiesta() {
        //    if (ControlloDocumentiRichiestaTFR()) {
        //        return window.confirm('Vuoi inviare questa richiesta di pagamento TFR iscritto?');
        //    } else {
        //        return false;
        //    }
        //}

        function CheckIban() {
            var ibanValue = $("#txtIBAN").val().replace(" ", "").toUpperCase();
            if (!ibanValue.match(/^(AL|al)[0-9]{2}[0-9]{8}[a-zA-Z0-9]{16}$|^(AD|ad)[0-9]{2}[0-9]{8}[a-zA-Z0-9]{12}$|^(AT|at)[0-9]{2}[0-9]{16}$|^(AZ|az)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{20}$|^(BH|bh)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{14}$|^(BY|by)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{4}[a-zA-Z0-9]{16}$|^(BE|be)[0-9]{2}[0-9]{12}$|^(BA|ba)[0-9]{2}[0-9]{16}$|^(BR|br)[0-9]{2}[0-9]{23}[a-zA-Z][a-zA-Z0-9]$|^(BG|bg)[0-9]{2}[a-zA-Z]{4}[0-9]{6}[a-zA-Z0-9]{8}$|^(CR|cr)[0-9]{2}[0-9]{18}$|^(HR|hr)[0-9]{2}[0-9]{17}$|^(CY|cy)[0-9]{2}[0-9]{8}[a-zA-Z0-9]{16}$|^(CZ|cz)[0-9]{2}[0-9]{20}$|^(DK|dk)[0-9]{2}[0-9]{14}$|^(DO|do)[0-9]{2}[a-zA-Z]{4}[0-9]{20}$|^(TL|tl)[0-9]{2}[0-9]{19}$|^(EG|eg)[0-9]{2}[0-9]{25}$|^(SV|sv)[0-9]{2}[a-zA-Z]{4}[0-9]{20}$|^(EE|ee)[0-9]{2}[0-9]{16}$|^(FO|fo)[0-9]{2}[0-9]{14}$|^(FI|fi)[0-9]{2}[0-9]{14}$|^(FR|fr)[0-9]{2}[0-9]{10}[a-zA-Z0-9]{11}[0-9]{2}$|^(GE|ge)[0-9]{2}[a-zA-Z0-9]{2}[0-9]{16}$|^(DE|de)[0-9]{2}[0-9]{18}$|^(GI|gi)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{15}$|^(GR|gr)[0-9]{2}[0-9]{7}[a-zA-Z0-9]{16}$|^(GL|gl)[0-9]{2}[0-9]{14}$|^(GT|gt)[0-9]{2}[a-zA-Z0-9]{24}$|^(HU|hu)[0-9]{2}[0-9]{24}$|^(IS|is)[0-9]{2}[0-9]{22}$|^(IQ|iq)[0-9]{2}[a-zA-Z]{4}[0-9]{15}$|^(IE|ie)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{14}$|^(IL|il)[0-9]{2}[0-9]{19}$|^(IT|it)[0-9]{2}[a-zA-Z][0-9]{10}[a-zA-Z0-9]{12}$|^(JO|jo)[0-9]{2}[a-zA-Z]{4}[0-9]{22}$|^(KZ|kz)[0-9]{2}[0-9]{3}[a-zA-Z0-9]{13}$|^(XK|xk)[0-9]{2}[0-9]{16}$|^(KW|kw)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{22}$|^(LV|lv)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{13}$|^(LB|lb)[0-9]{2}[0-9]{4}[a-zA-Z0-9]{20}$|^(LY|ly)[0-9]{2}[0-9]{21}$|^(LI|li)[0-9]{2}[0-9]{5}[a-zA-Z0-9]{12}$|^(LT|lt)[0-9]{2}[0-9]{16}$|^(LU|lu)[0-9]{2}[0-9]{3}[a-zA-Z0-9]{13}$|^(MK|mk)[0-9]{2}[0-9]{3}[a-zA-Z0-9]{10}[0-9]{2}$|^(MT|mt)[0-9]{2}[a-zA-Z]{4}[0-9]{5}[a-zA-Z0-9]{18}$|^(MR|mr)[0-9]{2}[0-9]{23}$|^(MU|mu)[0-9]{2}[a-zA-Z]{4}[0-9]{19}[a-zA-Z]{3}$|^(MC|mc)[0-9]{2}[0-9]{10}[a-zA-Z0-9]{11}[0-9]{2}$|^(MD|md)[0-9]{2}[a-zA-Z0-9]{20}$|^(ME|me)[0-9]{2}[0-9]{18}$|^(NL|nl)[0-9]{2}[a-zA-Z]{4}[0-9]{10}$|^(NO|no)[0-9]{2}[0-9]{11}$|^(PK|pk)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{16}$|^(PS|ps)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{21}$|^(PL|pl)[0-9]{2}[0-9]{24}$|^(PT|pt)[0-9]{2}[0-9]{21}$|^(QA|qa)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{21}$|^(RO|ro)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{16}$|^(LC|lc)[0-9]{2}[a-zA-Z]{4}[a-zA-Z0-9]{24}$|^(SM|sm)[0-9]{2}[a-zA-Z][0-9]{10}[a-zA-Z0-9]{12}$|^(ST|st)[0-9]{2}[0-9]{21}$|^(SA|sa)[0-9]{2}[0-9]{2}[a-zA-Z0-9]{18}$|^(RS|rs)[0-9]{2}[0-9]{18}$|^(SC|sc)[0-9]{2}[a-zA-Z]{4}[0-9]{20}[a-zA-Z]{3}$|^(SK|sk)[0-9]{2}[0-9]{20}$|^(SI|si)[0-9]{2}[0-9]{15}$|^(ES|es)[0-9]{2}[0-9]{20}$|^(SD|sd)[0-9]{2}[0-9]{14}$|^(SE|se)[0-9]{2}[0-9]{20}$|^(CH|ch)[0-9]{2}[0-9]{5}[a-zA-Z0-9]{12}$|^(TN|tn)[0-9]{2}[0-9]{20}$|^(TR|tr)[0-9]{2}[0-9]{5}[a-zA-Z0-9]{17}$|^(UA|ua)[0-9]{2}[0-9]{6}[a-zA-Z0-9]{19}$|^(AE|ae)[0-9]{2}[0-9]{19}$|^(GB|gb)[0-9]{2}[a-zA-Z]{4}[0-9]{14}$|^(VA|va)[0-9]{2}[0-9]{18}$|^(VG|vg)[0-9]{2}[a-zA-Z0-9]{4}[0-9]{16}$/))
                return false;
            var ibanToCheck = ibanValue.substring(4) + ibanValue.substring(0, 4);
            var num = 0;
            for (var i = 0; i < ibanToCheck.length; i++) {
                num = !ibanToCheck.charAt(i).match(/[A-Z]/) ? (10 * num + (ibanToCheck.charAt(i).charCodeAt(0) - 48)) % 97 : (100 * num + (ibanToCheck.charAt(i).charCodeAt(0) - 55)) % 97;
            }
            return num === 1;
        }

        //function ControlloDocumentiRichiestaTFR(){

        //    var controlloDocumenti = $("#hidden_controlloDocumenti").val();
        //    if (controlloDocumenti == "False") {
        //        alert("Inserire i documenti di riconoscimento richiesti");
        //        return false;
        //    }
        //    else {
        //        return true;
        //    }
        //}
        //$(document).ready(function () {
        //    $("input.documento,input.documento-file").change(function (evt) {
        //        var result = checkRequired();
        //        if (result) {
        //            $("#btnInviaRichiesta").removeClass('d-none')
        //        }
        //        else if (!$("#btnInviaRichiesta").hasClass('d-none')) {
        //            $("#btnInviaRichiesta").addClass('d-none')
        //        }
        //    });
        //});
        //function checkRequired() {
        //    var result = true;
        //    $.each($("input.documento"), function (indice, input) {
        //        if ($(input).val() != "" && $(input).val() != undefined) {
        //            result = false;
        //        }
        //    });
        //    $.each($("input.documento-file"), function (indice, input) {
        //        if ($(input).get(0).files.length === 0) {
        //            result = false;
        //        }
        //    });
        //    return result;
        //}

    </script>

}