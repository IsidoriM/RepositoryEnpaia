@model TFI.OCM.Amministrativo.ScadenzaDipaOCM
@{
    ViewBag.Title = "ScadenzaDipa";
    Layout = "~/Views/Shared/_LayoutContainer.cshtml";
}


@section showMessage{
    @{Html.RenderPartial("PartialViewShowMessages");}

}

@{
    var list = Model.listScadenzaDipa;
}


<style>
    .btn:hover {
        background-color: #0c773c;
    }
</style>


@using (Html.BeginForm("ScadenzaDipa", "Amministrativo", FormMethod.Post))
{
    <div class="card card-default">
        <div style="background-color: #0c773c" class="card-header">
            <h3 style="color:white;text-align:center;width:100%;font-size:25px" class="card-title">Scadenza Dipa</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-sm-5">
                    <label>Anno:</label>
                    <select id="anno" asp-for="anno" name="anno" class="form-control">
                        <option value=""></option>
                        @foreach (var i in Model.listanni)
                        {
                            <option value="@i.anno">@i.anno</option>
                        }
                    </select>
                </div>
                &ensp;
                &ensp;
                <div class="col-sm-2">
                    <input type="submit" id="SearchSosp" name="SearchSosp" asp-for="SearchSosp" style="margin-top:30px" value="Cerca Anno" class="btn btn-block btn-outline-success hover" />
                </div>
                &ensp;
                &ensp;
                &ensp;
                &ensp;
                <div class="col-sm-2">
                    <input type="submit" id="newSosp" name="newSosp" asp-for="newSosp" style="margin-top:30px" value="Nuovo Anno" class="btn btn-block btn-outline-success hover" />
                </div>
            </div>
            <br />

            @if (Model.listScadenzaDipa != null)
            {
                if (Model.listScadenzaDipa.Count > 0)
                {
                    var i = 1;

                    <div class="row" id="rowtable" name="rowtable">
                        <table id="table" class="table table-hover ">
                            <thead>
                                <tr class="header" style="background:#0c773c;color:white">
                                    <th>Data Inizio Validità</th>
                                    <th>Data Fine Validità</th>
                                    <th>Mese</th>
                                    <th>Data Scadenza</th>
                                    <th hidden></th>
                                    <th hidden></th>
                                    <th hidden></th>
                                </tr>
                            </thead>
                            <tbody>

                                @foreach (var a in Model.listScadenzaDipa)
                                {
                                    <tr>
                                        <td><input type="text" style="border:none" id="" name="" value="@a.datinival" readonly /></td>
                                        <td><input type="text" style="border:none" id="" name="" value="@a.datfinval" readonly /></td>
                                        <td><input type="text" style="border:none" id="" name="" value="@a.mese" readonly /></td>
                                        <td><input type="text" style="border:none" id="datsca_@i" name="datsca_@i" value="@a.datsca" /></td>
                                        <td><input type="text" style="border:none" id="datinival_@i" name="datinival_@i" value="@a.datinival" hidden /></td>
                                        <td><input type="text" style="border:none" id="datfinval_@i" name="datfinval_@i" value="@a.datfinval" hidden /></td>
                                        <td><input type="text" style="border:none" id="mese_@i" name="mese_@i" value="@a.mese" hidden /></td>
                                    </tr>
                                    i = i + 1;
                                }
                            </tbody>
                        </table>
                    </div>
                    <br />
                    <div class="row justify-content-end" id="rowButton" name="rowButton">
                        <div class="col-sm-2">
                            <input type="submit" id="ModSosp" name="ModSosp" asp-for="ModSosp" value="Modifica" class="btn btn-block btn-outline-success hover" />
                        </div>
                    </div>
                }
            }


        </div>
    </div>
}


